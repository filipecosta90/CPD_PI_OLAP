\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{geometry}
 \geometry{
 a4paper,
 total={170mm,257mm},
 left=20mm,
 top=20mm,
 }


\begin{document}


\section{Hadamard}
\begin{algorithm}
\caption{CSR Hadamard Computation}\label{hada}
\begin{algorithmic}[1]

\Require A($m\times n$), B($m\times n$)
\Ensure C($m\times n$)
\Statex
\State $c\_pos \gets 0$
\For {$ row = 0$ \textbf{to} $m-1$}
    \State $C\_IA[row] \gets c\_pos$
    \State $col\_A\_pivot \gets A\_IA[row]$
    \State $col\_B\_pivot \gets B\_IA[row]$
    \State $col\_A\_limit \gets A\_IA[row+1]$
    \State $col\_B\_limit \gets B\_IA[row+1]$
    \State $A\_line\_size \gets col\_A\_limit - col\_A\_pivot$
    \State $B\_line\_size \gets col\_B\_limit - col\_B\_pivot$
    \Statex
    \If{$A\_line\_size > B\_line\_size$}
\For {$col\_A\_pivot$ \textbf{to} $col\_A\_limit-1 $}
\For {$col\_B\_pivot$ \textbf{to} $col\_B\_limit-1 ,$ \textbf{such that}  $(A\_JA[col\_A\_pivot] < B\_JA[col\_B\_pivot]) $}
    \State $++col\_B\_pivot$
    \EndFor
            \If{$A\_JA[col\_A\_pivot] == B\_JA[col\_B\_pivot]$}
               \State $C\_csr\_values[c\_pos] \gets A\_csr\_values[c\_pos] * B\_csr\_values[c\_pos]$
               \State $C\_JA[c\_pos] \gets col\_A\_pivot$
               \State $++c\_pos$
            \EndIf
            \State $++col\_A\_pivot$
        \EndFor
    \Else
        \For {$col\_B\_pivot$ \textbf{to} $col\_B\_limit-1 $}
\For {$col\_A\_pivot$ \textbf{to} $col\_A\_limit-1 ,$ \textbf{such that}  $(A\_JA[col\_A\_pivot] < B\_JA[col\_B\_pivot]) $}
    \State $++col\_A\_pivot$
    \EndFor
            \If{$A\_JA[col\_A\_pivot] == B\_JA[col\_B\_pivot]$}
               \State $C\_csr\_values[c\_pos] \gets A\_csr\_values[c\_pos] * B\_csr\_values[c\_pos]$
               \State $C\_JA[c\_pos] \gets col\_B\_pivot$
               \State $++c\_pos$
            \EndIf
            \State $++col\_B\_pivot$
        \EndFor
    \EndIf
\EndFor
    \Statex
\State $C\_IA[at\_row]=c\_pos$
\end{algorithmic}
\end{algorithm}






\end{document}
